{"version":3,"sources":["App.js","index.js"],"names":["App","videoRef","useRef","photoRef","useState","hasPhoto","setHasPhoto","useEffect","navigator","mediaDevices","getUserMedia","video","width","height","then","stream","current","srcObject","play","catch","err","console","error","className","ref","onClick","photo","getContext","drawImage","clearRect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+KAiEeA,MA/Df,WACE,IAAMC,EAAWC,iBAAO,MAClBC,EAAWD,iBAAO,MAExB,EAAgCE,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KA6CA,OAJAC,qBAAU,WAtCRC,UAAUC,aACPC,aAAa,CACZC,MAAO,CAAEC,MAAO,KAAMC,OAAQ,QAE/BC,MAAK,SAAAC,GACJ,IAAIJ,EAAQV,EAASe,QACrBL,EAAMM,UAAYF,EAClBJ,EAAMO,UAEPC,OAAM,SAAAC,GACLC,QAAQC,MAAMF,QA8BjB,CAACnB,IAGF,sBAAKsB,UAAU,MAAf,UACE,sBAAKA,UAAU,SAAf,UACE,uBAAOC,IAAKvB,IACZ,wBAAQwB,QAhCI,WAChB,IACMZ,EAASD,QAEXD,EAAQV,EAASe,QACjBU,EAAQvB,EAASa,QAErBU,EAAMd,MANQ,IAOdc,EAAMb,OAASA,EAELa,EAAMC,WAAW,MACvBC,UAAUjB,EAAO,EAAG,EAVV,IAUoBE,GAClCP,GAAY,IAoBR,sBAEF,sBAAKiB,UAAW,WAAalB,EAAW,WAAa,IAArD,UACE,wBAAQmB,IAAKrB,IACb,wBAAQsB,QArBK,WACjB,IAAIC,EAAQvB,EAASa,QACXU,EAAMC,WAAW,MAEvBE,UAAU,EAAG,EAAGH,EAAMd,MAAOc,EAAMb,QAEvCP,GAAY,IAeR,2BCtDRwB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.e2a62a00.chunk.js","sourcesContent":["import React, {useRef, useEffect, useState} from \"react\"\n\nfunction App() {\n  const videoRef = useRef(null);\n  const photoRef = useRef(null);\n\n  const [hasPhoto, setHasPhoto] = useState(false);\n\n  const getVideo = () => {\n    navigator.mediaDevices\n      .getUserMedia({ \n        video: { width: 1920, height: 1080 }\n      })\n      .then(stream => {\n        let video = videoRef.current;\n        video.srcObject = stream;\n        video.play();\n      })\n      .catch(err => {\n        console.error(err);\n      })\n  }\n\n  const takePhoto = () => {\n    const width = 414;\n    const height = width / (16/9);\n\n    let video = videoRef.current;\n    let photo = photoRef.current;\n\n    photo.width = width;\n    photo.height = height;\n\n    let ctx = photo.getContext('2d');\n    ctx.drawImage(video, 0, 0, width, height);\n    setHasPhoto(true);\n  }\n\n  const closePhoto = () => {\n    let photo = photoRef.current;\n    let ctx = photo.getContext('2d');\n\n    ctx.clearRect(0, 0, photo.width, photo.height);\n\n    setHasPhoto(false)\n  }\n\n  useEffect(() => {\n    getVideo();\n  }, [videoRef])\n\n  return (\n    <div className=\"App\">\n      <div className=\"camera\">\n        <video ref={videoRef}></video>\n        <button onClick={takePhoto}>SNAP!</button>\n      </div>\n      <div className={'result ' + (hasPhoto ? 'hasPhoto' : '')}>\n        <canvas ref={photoRef}></canvas>\n        <button onClick={closePhoto}>CLOSE!</button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}